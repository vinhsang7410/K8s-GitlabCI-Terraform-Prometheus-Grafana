<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url(https://themes.googleusercontent.com/fonts/css?kit=XGMkxXUZTA64h2imyzu79g);ul.lst-kix_53qy4ivdc6mi-3{list-style-type:none}ul.lst-kix_53qy4ivdc6mi-4{list-style-type:none}ul.lst-kix_53qy4ivdc6mi-1{list-style-type:none}.lst-kix_53qy4ivdc6mi-2>li:before{content:"\0025a0   "}ul.lst-kix_53qy4ivdc6mi-2{list-style-type:none}.lst-kix_53qy4ivdc6mi-4>li:before{content:"\0025cb   "}ul.lst-kix_53qy4ivdc6mi-7{list-style-type:none}ul.lst-kix_53qy4ivdc6mi-8{list-style-type:none}ul.lst-kix_53qy4ivdc6mi-5{list-style-type:none}.lst-kix_53qy4ivdc6mi-3>li:before{content:"\0025cf   "}ul.lst-kix_53qy4ivdc6mi-6{list-style-type:none}.lst-kix_53qy4ivdc6mi-0>li:before{content:"\0025cf   "}.lst-kix_53qy4ivdc6mi-8>li:before{content:"\0025a0   "}ul.lst-kix_53qy4ivdc6mi-0{list-style-type:none}.lst-kix_53qy4ivdc6mi-1>li:before{content:"\0025cb   "}.lst-kix_ld1nlwjaezlj-4>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-4}.lst-kix_53qy4ivdc6mi-7>li:before{content:"\0025cb   "}.lst-kix_53qy4ivdc6mi-6>li:before{content:"\0025cf   "}.lst-kix_53qy4ivdc6mi-5>li:before{content:"\0025a0   "}.lst-kix_ld1nlwjaezlj-3>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-3}ol.lst-kix_ld1nlwjaezlj-6.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-6 0}.lst-kix_ld1nlwjaezlj-6>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-6}ul.lst-kix_ud09ycvdlv8b-0{list-style-type:none}.lst-kix_mua2099p0o9h-8>li:before{content:"\0025a0   "}ul.lst-kix_ud09ycvdlv8b-4{list-style-type:none}ul.lst-kix_ud09ycvdlv8b-3{list-style-type:none}ul.lst-kix_ud09ycvdlv8b-2{list-style-type:none}.lst-kix_mua2099p0o9h-7>li:before{content:"\0025cb   "}ul.lst-kix_ud09ycvdlv8b-1{list-style-type:none}ul.lst-kix_ud09ycvdlv8b-8{list-style-type:none}ul.lst-kix_ud09ycvdlv8b-7{list-style-type:none}ul.lst-kix_ud09ycvdlv8b-6{list-style-type:none}.lst-kix_mua2099p0o9h-4>li:before{content:"\0025cb   "}.lst-kix_mua2099p0o9h-6>li:before{content:"\0025cf   "}ul.lst-kix_ud09ycvdlv8b-5{list-style-type:none}.lst-kix_mua2099p0o9h-5>li:before{content:"\0025a0   "}.lst-kix_7n1eq4yiu2f8-0>li:before{content:"\0025cf   "}ul.lst-kix_3l4lgcv3szh-0{list-style-type:none}ul.lst-kix_3l4lgcv3szh-1{list-style-type:none}ol.lst-kix_ld1nlwjaezlj-3.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-3 0}.lst-kix_yr6pal7mb9v1-6>li:before{content:"\0025cf   "}ul.lst-kix_mua2099p0o9h-4{list-style-type:none}ul.lst-kix_3l4lgcv3szh-8{list-style-type:none}ul.lst-kix_mua2099p0o9h-5{list-style-type:none}.lst-kix_yr6pal7mb9v1-5>li:before{content:"\0025a0   "}.lst-kix_yr6pal7mb9v1-7>li:before{content:"\0025cb   "}ul.lst-kix_mua2099p0o9h-2{list-style-type:none}ul.lst-kix_3l4lgcv3szh-6{list-style-type:none}ul.lst-kix_mua2099p0o9h-3{list-style-type:none}ul.lst-kix_3l4lgcv3szh-7{list-style-type:none}ul.lst-kix_mua2099p0o9h-8{list-style-type:none}ul.lst-kix_3l4lgcv3szh-4{list-style-type:none}ul.lst-kix_3l4lgcv3szh-5{list-style-type:none}ul.lst-kix_mua2099p0o9h-6{list-style-type:none}ul.lst-kix_3l4lgcv3szh-2{list-style-type:none}ul.lst-kix_mua2099p0o9h-7{list-style-type:none}ul.lst-kix_3l4lgcv3szh-3{list-style-type:none}.lst-kix_yr6pal7mb9v1-3>li:before{content:"\0025cf   "}.lst-kix_yr6pal7mb9v1-4>li:before{content:"\0025cb   "}ul.lst-kix_mua2099p0o9h-0{list-style-type:none}ul.lst-kix_mua2099p0o9h-1{list-style-type:none}.lst-kix_ld1nlwjaezlj-8>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-8}.lst-kix_ld1nlwjaezlj-5>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-5}ol.lst-kix_ld1nlwjaezlj-4.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-4 0}.lst-kix_yr6pal7mb9v1-2>li:before{content:"\0025a0   "}.lst-kix_ld1nlwjaezlj-2>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-2}.lst-kix_yr6pal7mb9v1-1>li:before{content:"\0025cb   "}.lst-kix_yr6pal7mb9v1-0>li:before{content:"\0025cf   "}.lst-kix_3l4lgcv3szh-0>li:before{content:"\0025cf   "}.lst-kix_3l4lgcv3szh-1>li:before{content:"\0025cb   "}ol.lst-kix_ld1nlwjaezlj-5.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-5 0}.lst-kix_3l4lgcv3szh-2>li:before{content:"\0025a0   "}.lst-kix_3l4lgcv3szh-5>li:before{content:"\0025a0   "}.lst-kix_3l4lgcv3szh-3>li:before{content:"\0025cf   "}.lst-kix_3l4lgcv3szh-7>li:before{content:"\0025cb   "}.lst-kix_3l4lgcv3szh-4>li:before{content:"\0025cb   "}.lst-kix_3l4lgcv3szh-8>li:before{content:"\0025a0   "}ol.lst-kix_ld1nlwjaezlj-8.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-8 0}.lst-kix_yr6pal7mb9v1-8>li:before{content:"\0025a0   "}.lst-kix_3l4lgcv3szh-6>li:before{content:"\0025cf   "}.lst-kix_1l5tserq8k9-0>li:before{content:"\0025cf   "}.lst-kix_ud09ycvdlv8b-7>li:before{content:"\0025cb   "}.lst-kix_ud09ycvdlv8b-6>li:before{content:"\0025cf   "}.lst-kix_ud09ycvdlv8b-8>li:before{content:"\0025a0   "}.lst-kix_1l5tserq8k9-3>li:before{content:"\0025cf   "}.lst-kix_ud09ycvdlv8b-4>li:before{content:"\0025cb   "}.lst-kix_1l5tserq8k9-2>li:before{content:"\0025a0   "}.lst-kix_ud09ycvdlv8b-5>li:before{content:"\0025a0   "}.lst-kix_1l5tserq8k9-1>li:before{content:"\0025cb   "}ul.lst-kix_1l5tserq8k9-3{list-style-type:none}.lst-kix_1l5tserq8k9-8>li:before{content:"\0025a0   "}ul.lst-kix_1l5tserq8k9-2{list-style-type:none}ul.lst-kix_1l5tserq8k9-5{list-style-type:none}.lst-kix_ud09ycvdlv8b-0>li:before{content:"\0025cf   "}ul.lst-kix_1l5tserq8k9-4{list-style-type:none}.lst-kix_ld1nlwjaezlj-6>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-6,decimal) ". "}ul.lst-kix_1l5tserq8k9-1{list-style-type:none}.lst-kix_1l5tserq8k9-7>li:before{content:"\0025cb   "}ul.lst-kix_1l5tserq8k9-0{list-style-type:none}.lst-kix_1l5tserq8k9-4>li:before{content:"\0025cb   "}.lst-kix_ud09ycvdlv8b-3>li:before{content:"\0025cf   "}ol.lst-kix_ld1nlwjaezlj-2.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-2 0}.lst-kix_ld1nlwjaezlj-7>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-7,lower-latin) ". "}.lst-kix_ld1nlwjaezlj-8>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-8,lower-roman) ". "}.lst-kix_ud09ycvdlv8b-2>li:before{content:"\0025a0   "}.lst-kix_7n1eq4yiu2f8-2>li:before{content:"\0025a0   "}.lst-kix_1l5tserq8k9-6>li:before{content:"\0025cf   "}ul.lst-kix_1l5tserq8k9-7{list-style-type:none}.lst-kix_ud09ycvdlv8b-1>li:before{content:"\0025cb   "}ul.lst-kix_1l5tserq8k9-6{list-style-type:none}.lst-kix_1l5tserq8k9-5>li:before{content:"\0025a0   "}.lst-kix_7n1eq4yiu2f8-1>li:before{content:"\0025cb   "}ul.lst-kix_1l5tserq8k9-8{list-style-type:none}ul.lst-kix_7n1eq4yiu2f8-7{list-style-type:none}ol.lst-kix_ld1nlwjaezlj-8{list-style-type:none}ul.lst-kix_7n1eq4yiu2f8-6{list-style-type:none}ol.lst-kix_ld1nlwjaezlj-7{list-style-type:none}ol.lst-kix_ld1nlwjaezlj-7.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-7 0}ul.lst-kix_7n1eq4yiu2f8-5{list-style-type:none}ol.lst-kix_ld1nlwjaezlj-6{list-style-type:none}.lst-kix_mua2099p0o9h-0>li:before{content:"\0025cf   "}.lst-kix_mua2099p0o9h-2>li:before{content:"\0025a0   "}ul.lst-kix_7n1eq4yiu2f8-4{list-style-type:none}ol.lst-kix_ld1nlwjaezlj-0.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-0 0}ol.lst-kix_ld1nlwjaezlj-5{list-style-type:none}.lst-kix_mua2099p0o9h-3>li:before{content:"\0025cf   "}.lst-kix_7n1eq4yiu2f8-3>li:before{content:"\0025cf   "}ul.lst-kix_7n1eq4yiu2f8-8{list-style-type:none}ol.lst-kix_ld1nlwjaezlj-0{list-style-type:none}.lst-kix_ld1nlwjaezlj-7>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-7}.lst-kix_7n1eq4yiu2f8-4>li:before{content:"\0025cb   "}.lst-kix_ld1nlwjaezlj-1>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-1}ol.lst-kix_ld1nlwjaezlj-4{list-style-type:none}ol.lst-kix_ld1nlwjaezlj-3{list-style-type:none}.lst-kix_ld1nlwjaezlj-5>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-5,lower-roman) ". "}ol.lst-kix_ld1nlwjaezlj-2{list-style-type:none}.lst-kix_mua2099p0o9h-1>li:before{content:"\0025cb   "}.lst-kix_7n1eq4yiu2f8-5>li:before{content:"\0025a0   "}ol.lst-kix_ld1nlwjaezlj-1{list-style-type:none}.lst-kix_ld1nlwjaezlj-3>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-3,decimal) ". "}.lst-kix_ld1nlwjaezlj-4>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-4,lower-latin) ". "}.lst-kix_7n1eq4yiu2f8-6>li:before{content:"\0025cf   "}.lst-kix_7n1eq4yiu2f8-8>li:before{content:"\0025a0   "}.lst-kix_ld1nlwjaezlj-2>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-2,lower-roman) ". "}.lst-kix_7n1eq4yiu2f8-7>li:before{content:"\0025cb   "}.lst-kix_ld1nlwjaezlj-0>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-0,decimal) ". "}ul.lst-kix_7n1eq4yiu2f8-3{list-style-type:none}ul.lst-kix_7n1eq4yiu2f8-2{list-style-type:none}.lst-kix_ld1nlwjaezlj-1>li:before{content:"" counter(lst-ctn-kix_ld1nlwjaezlj-1,lower-latin) ". "}ul.lst-kix_7n1eq4yiu2f8-1{list-style-type:none}ul.lst-kix_7n1eq4yiu2f8-0{list-style-type:none}.lst-kix_ld1nlwjaezlj-0>li{counter-increment:lst-ctn-kix_ld1nlwjaezlj-0}ol.lst-kix_ld1nlwjaezlj-1.start{counter-reset:lst-ctn-kix_ld1nlwjaezlj-1 0}ul.lst-kix_yr6pal7mb9v1-2{list-style-type:none}ul.lst-kix_yr6pal7mb9v1-1{list-style-type:none}ul.lst-kix_yr6pal7mb9v1-0{list-style-type:none}ul.lst-kix_yr6pal7mb9v1-6{list-style-type:none}ul.lst-kix_yr6pal7mb9v1-5{list-style-type:none}ul.lst-kix_yr6pal7mb9v1-4{list-style-type:none}ul.lst-kix_yr6pal7mb9v1-3{list-style-type:none}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_yr6pal7mb9v1-8{list-style-type:none}ul.lst-kix_yr6pal7mb9v1-7{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c3{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:italic}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c19{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c7{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c9{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c17{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c10{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Courier New";font-style:normal}.c6{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c2{padding-top:12pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c14{color:#000000;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c5{padding-top:12pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c15{padding-top:0pt;padding-bottom:12pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c20{padding-top:16pt;padding-bottom:4pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c23{color:#000000;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c16{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c22{font-weight:400;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c12{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c18{font-family:"Roboto Mono";color:#188038;font-weight:400}.c25{background-color:#ffffff;max-width:451.4pt;padding:72pt 72pt 72pt 72pt}.c8{margin-left:36pt;padding-left:0pt}.c21{color:inherit;text-decoration:inherit}.c24{margin-left:30pt;margin-right:30pt}.c13{padding:0;margin:0}.c4{font-weight:700}.c11{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c25 doc-content"><h1 class="c7" id="h.pu0ccb8qne9d"><span class="c19">1. T&#7893;ng quan v&#7873; Gcloud.</span></h1><p class="c1"><span class="c0">Google Cloud platform l&agrave; g&igrave;? &#272;&acirc;y l&agrave; t&#7915; &#273;&#432;&#7907;c vi&#7871;t t&#7855;t GCP hay c&ograve;n g&#7885;i Google Cloud Platform. &#272;&acirc;y ch&iacute;nh l&agrave; m&#7897;t n&#7873;n t&#7843;ng c&#7911;a &#273;i&#7879;n to&aacute;n &#273;&aacute;m m&acirc;y cho ph&eacute;p c&aacute;c c&aacute; nh&acirc;n hay t&#7893; ch&#7913;c x&acirc;y d&#7921;ng v&agrave; ph&aacute;t tri&#7875;n c&aacute;c c&aacute;c &#7913;ng d&#7909;ng c&#7911;a m&igrave;nh tr&ecirc;n h&#7879; th&#7889;ng ph&#7847;n m&#7873;m do google t&#7841;o ra. C&aacute;c &#7913;ng d&#7909;ng ph&#7893; bi&#7871;n nh&#432; tr&igrave;nh duy&#7879;t Chrome, &#7913;ng d&#7909;ng b&#7843;n &#273;&#7891; Google Map,&hellip;</span></p><h3 class="c9" id="h.69892pxunomz"><span class="c6">C&aacute;c d&#7883;ch v&#7909; c&#7911;a Google Cloud Platform</span></h3><p class="c1"><span class="c0">IOT (Internet of Things): cho ph&eacute;p ng&#432;&#7901;i s&#7917; d&#7909;ng qu&#7843;n l&yacute; v&agrave; ti&ecirc;u th&#7909; d&#7919; li&#7879;u t&#7915; nh&#7919;ng thi&#7871;t b&#7883; IOT m&#7897;t c&aacute;ch thu&#7853;n l&#7907;i.</span></p><p class="c1"><span class="c0">Cloud Machine Learning Engine (T&igrave;m ki&#7871;m &#273;&aacute;m m&acirc;y): d&ugrave;ng &#273;&#7875; ph&aacute;t tri&#7875;n &#7913;ng d&#7909;ng tr&iacute; tu&#7879; nh&acirc;n t&#7841;o (hay c&ograve;n g&#7885;i l&agrave; AI)</span></p><p class="c1"><span class="c0">Google Cloud: Cung c&#7845;p c&aacute;c d&#7883;ch v&#7909; nh&#432; Hadoop v&agrave; Apache Spark bao g&#7891;m Google Cloud Dataproc &#273;&#7875; d&#7919; li&#7879;u &#273;&#432;&#7907;c x&#7917; l&yacute; d&#7877; d&agrave;ng h&#417;n v&agrave; nhanh h&#417;n.</span></p><p class="c1"><span class="c0">Google Cloud Dataflow: D&#7883;ch v&#7909; x&#7917; l&yacute; d&#7919; li&#7879;u cho nh&#7919;ng c&ocirc;ng vi&#7879;c ph&acirc;n t&iacute;ch, ph&#7909;c v&#7909; cho c&aacute;c d&#7921; &aacute;n t&iacute;nh to&aacute;n theo th&#7901;i gian th&#7921;c t&#7871;, tr&iacute;ch xu&#7845;t, chuy&#7875;n &#273;&#7893;i v&agrave; t&#7843;i (ETL).</span></p><p class="c1"><span class="c0">Google BigQuery: n&#417;i cung c&#7845;p t&agrave;i nguy&ecirc;n kh&#7893;ng l&#7891; c&#7911;a Google , bao g&#7891;m nh&#7919;ng d&#7883;ch v&#7909; x&#7917; l&yacute; d&#7919; li&#7879;u v&agrave; ph&acirc;n t&iacute;ch. Google BigQuery c&oacute; ch&#7913;c n&#259;ng &#273;&#7875; truy v&#7845;n t&#432;&#417;ng t&#7921; c&ocirc;ng c&#7909; SQL truy&#7873;n th&#7889;ng &#273;&#432;&#7907;c th&#7921;c hi&#7879;n &#273;&#7889;i v&#7899;i b&#7897; d&#7919; li&#7879;u nhi&#7873;u terabyte. Tuy nhi&ecirc;n, tr&ecirc;n th&#7921;c t&#7871; vi&#7879;c l&#432;u tr&#7919; nh&#7919;ng d&#7919; li&#7879;u v&ocirc; c&ugrave;ng c&#7847;n thi&#7871;t v&agrave; quan tr&#7885;ng. D&#7919; li&#7879;u kh&ocirc;ng nh&#7919;ng d&#7915;ng l&#7841;i &#7903; nh&#7919;ng file c&oacute; k&iacute;ch th&#432;&#7899;c nh&#7887; m&agrave; c&ograve;n c&oacute; th&#7875; l&ecirc;n &#273;&#7871;n terabyte.</span></p><h3 class="c9" id="h.6543ra8dg68j"><span class="c6">T&#7841;i sao n&ecirc;n s&#7917; d&#7909;ng Google Cloud platform?</span></h3><p class="c1"><span class="c0">H&#7847;u h&#7871;t c&aacute;c doanh nghi&#7879;p khi x&acirc;y d&#7921;ng c&aacute;c &#7913;ng d&#7909;ng &#273;&#7873;u ph&#7843;i ch&uacute; &yacute; &#273;&#7871;n t&#7889;c &#273;&#7897;, kh&#7843; n&#259;ng n&acirc;ng c&#7845;p, b&#7843;o tr&igrave; v&agrave; &#273;&#7863;t bi&#7879;t l&agrave; t&iacute;nh b&#7843;o m&#7853;t c&#7911;a h&#7879; th&#7889;ng d&#7919; li&#7879;u. &#272;&#7875; &#273;&#7843;m b&#7843;o &#273;&#432;&#7907;c c&aacute;c v&#7845;n &#273;&#7873; n&agrave;y doanh nghi&#7879;p th&#432;&#7901;ng ph&#7843;i ti&ecirc;u t&#7889;n kho&#7843;n chi ph&iacute; &#273;&#7847;u t&#432; &#273;&aacute;ng k&#7875; v&agrave;o vi&#7879;c mua ph&#7847;n c&#7913;ng v&agrave; nh&acirc;n s&#7921; &#273;&#7875; x&acirc;y d&#7921;ng v&agrave; qu&#7843;n l&yacute; h&#7879; th&#7889;ng.</span></p><p class="c1"><span class="c0">&#272;&oacute; l&agrave; ch&#432;a k&#7875; &#273;&#7871;n trang thi&#7871;t b&#7883; sau m&#7897;t th&#7901;i gian s&#7869; tr&#7903; n&ecirc;n l&#7895;i th&#7901;i d&#7851;n &#273;&#7871;n vi&#7879;c n&acirc;ng c&#7845;p &#273;&ograve;i h&#7887;i s&#7889; ti&#7873;n l&#7899;n v&agrave; c&aacute;c &#7913;ng d&#7909;ng kh&ocirc;ng c&ograve;n mang l&#7841;i tr&#7843;i nghi&#7879;m t&#7889;t cho kh&aacute;ch h&agrave;ng s&#7917; d&#7909;ng d&#7883;ch v&#7909; hay h&#7879; th&#7889;ng c&#7911;a doanh nghi&#7879;p, nh&#7919;ng v&#7845;n &#273;&#7873; n&agrave;y s&#7869; &#273;&#432;&#7907;c gi&#7843;i quy&#7871;t khi doanh nghi&#7879;p chuy&#7875;n &#273;&#7893;i l&ecirc;n n&#7873;n t&#7843;ng Google Cloud.</span></p><h1 class="c7" id="h.fi7x1xicygoz"><span class="c19">2. Kubernetes tr&ecirc;n gcloud.</span></h1><p class="c1"><span class="c0">Kubernetes l&agrave; m&#7897;t n&#7873;n t&#7843;ng ngu&#7891;n m&#7903;, kh&#7843; chuy&#7875;n, c&oacute; th&#7875; m&#7903; r&#7897;ng &#273;&#7875; qu&#7843;n l&yacute; c&aacute;c &#7913;ng d&#7909;ng &#273;&#432;&#7907;c &#273;&oacute;ng g&oacute;i v&agrave; c&aacute;c service, gi&uacute;p thu&#7853;n l&#7907;i trong vi&#7879;c c&#7845;u h&igrave;nh v&agrave; t&#7921; &#273;&#7897;ng h&oacute;a vi&#7879;c tri&#7875;n khai &#7913;ng d&#7909;ng. Kubernetes l&agrave; m&#7897;t h&#7879; sinh th&aacute;i l&#7899;n v&agrave; ph&aacute;t tri&#7875;n nhanh ch&oacute;ng. C&aacute;c d&#7883;ch v&#7909;, s&#7921; h&#7895; tr&#7907; v&agrave; c&ocirc;ng c&#7909; c&oacute; s&#7861;n r&#7897;ng r&atilde;i. T&ecirc;n g&#7885;i Kubernetes c&oacute; ngu&#7891;n g&#7889;c t&#7915; ti&#7871;ng Hy L&#7841;p, c&oacute; &yacute; ngh&#297;a l&agrave; ng&#432;&#7901;i l&aacute;i t&agrave;u ho&#7863;c hoa ti&ecirc;u. Google m&#7903; m&atilde; ngu&#7891;n Kubernetes t&#7915; n&#259;m 2014. Kubernetes x&acirc;y d&#7921;ng d&#7921;a tr&ecirc;n m&#7897;t th&#7853;p k&#7927; r&#432;&#7905;i kinh nghi&#7879;m m&agrave; Google c&oacute; &#273;&#432;&#7907;c v&#7899;i vi&#7879;c v&#7853;n h&agrave;nh m&#7897;t kh&#7889;i l&#432;&#7907;ng l&#7899;n workload trong th&#7921;c t&#7871;, k&#7871;t h&#7907;p v&#7899;i c&aacute;c &yacute; t&#432;&#7903;ng v&agrave; th&#7921;c ti&#7877;n t&#7889;t nh&#7845;t t&#7915; c&#7897;ng &#273;&#7891;ng.</span></p><h3 class="c9" id="h.uwa3p47zyu1u"><span class="c6">Ch&#7913;c n&#259;ng ch&iacute;nh c&#7911;a Kubernetes</span></h3><p class="c1"><span class="c0">Service discovery v&agrave; c&acirc;n b&#7857;ng t&#7843;i: Kubernetes c&oacute; th&#7875; expose m&#7897;t container s&#7917; d&#7909;ng DNS ho&#7863;c &#273;&#7883;a ch&#7881; IP c&#7911;a ri&ecirc;ng n&oacute;. N&#7871;u l&#432;&#7907;ng traffic truy c&#7853;p &#273;&#7871;n m&#7897;t container cao, Kubernetes c&oacute; th&#7875; c&acirc;n b&#7857;ng t&#7843;i v&agrave; ph&acirc;n ph&#7889;i l&#432;u l&#432;&#7907;ng m&#7841;ng (network traffic) &#273;&#7875; vi&#7879;c tri&#7875;n khai &#273;&#432;&#7907;c &#7893;n &#273;&#7883;nh.</span></p><p class="c1"><span class="c0">&#272;i&#7873;u ph&#7889;i b&#7897; nh&#7899;: Kubernetes cho ph&eacute;p b&#7841;n t&#7921; &#273;&#7897;ng mount m&#7897;t h&#7879; th&#7889;ng l&#432;u tr&#7919; m&agrave; b&#7841;n ch&#7885;n, nh&#432; local storages, public cloud providers, v.v.</span></p><p class="c1"><span class="c0">T&#7921; &#273;&#7897;ng rollouts v&agrave; rollbacks: B&#7841;n c&oacute; th&#7875; m&ocirc; t&#7843; tr&#7841;ng th&aacute;i mong mu&#7889;n cho c&aacute;c container &#273;&#432;&#7907;c tri&#7875;n khai d&ugrave;ng Kubernetes v&agrave; n&oacute; c&oacute; th&#7875; thay &#273;&#7893;i tr&#7841;ng th&aacute;i th&#7921;c t&#7871; sang tr&#7841;ng th&aacute;i mong mu&#7889;n v&#7899;i t&#7847;n su&#7845;t &#273;&#432;&#7907;c ki&#7875;m so&aacute;t. V&iacute; d&#7909;, b&#7841;n c&oacute; th&#7875; t&#7921; &#273;&#7897;ng ho&aacute; Kubernetes &#273;&#7875; t&#7841;o m&#7899;i c&aacute;c container cho vi&#7879;c tri&#7875;n khai c&#7911;a b&#7841;n, xo&aacute; c&aacute;c container hi&#7879;n c&oacute; v&agrave; &aacute;p d&#7909;ng t&#7845;t c&#7843; c&aacute;c resource c&#7911;a ch&uacute;ng v&agrave;o container m&#7899;i.</span></p><p class="c1"><span class="c0">&#272;&oacute;ng g&oacute;i t&#7921; &#273;&#7897;ng: B&#7841;n cung c&#7845;p cho Kubernetes m&#7897;t cluster g&#7891;m c&aacute;c node m&agrave; n&oacute; c&oacute; th&#7875; s&#7917; d&#7909;ng &#273;&#7875; ch&#7841;y c&aacute;c t&aacute;c v&#7909; &#273;&#432;&#7907;c &#273;&oacute;ng g&oacute;i (containerized task). B&#7841;n cho Kubernetes bi&#7871;t m&#7895;i container c&#7847;n bao nhi&ecirc;u CPU v&agrave; b&#7897; nh&#7899; (RAM). Kubernetes c&oacute; th&#7875; &#273;i&#7873;u ph&#7889;i c&aacute;c container &#273;&#7871;n c&aacute;c node &#273;&#7875; t&#7853;n d&#7909;ng t&#7889;t nh&#7845;t c&aacute;c resource c&#7911;a b&#7841;n.</span></p><p class="c1"><span class="c0">T&#7921; ph&#7909;c h&#7891;i: Kubernetes kh&#7903;i &#273;&#7897;ng l&#7841;i c&aacute;c containers b&#7883; l&#7895;i, thay th&#7871; c&aacute;c container, xo&aacute; c&aacute;c container kh&ocirc;ng ph&#7843;n h&#7891;i l&#7841;i c&#7845;u h&igrave;nh health check do ng&#432;&#7901;i d&ugrave;ng x&aacute;c &#273;&#7883;nh v&agrave; kh&ocirc;ng cho c&aacute;c client bi&#7871;t &#273;&#7871;n ch&uacute;ng cho &#273;&#7871;n khi ch&uacute;ng s&#7861;n s&agrave;ng ho&#7841;t &#273;&#7897;ng.</span></p><p class="c1"><span class="c0">Qu&#7843;n l&yacute; c&#7845;u h&igrave;nh v&agrave; b&#7843;o m&#7853;t: Kubernetes cho ph&eacute;p b&#7841;n l&#432;u tr&#7919; v&agrave; qu&#7843;n l&yacute; c&aacute;c th&ocirc;ng tin nh&#7841;y c&#7843;m nh&#432;: password, OAuth token v&agrave; SSH key. B&#7841;n c&oacute; th&#7875; tri&#7875;n khai v&agrave; c&#7853;p nh&#7853;t l&#7841;i secret v&agrave; c&#7845;u h&igrave;nh &#7913;ng d&#7909;ng m&agrave; kh&ocirc;ng c&#7847;n build l&#7841;i c&aacute;c container image v&agrave; kh&ocirc;ng &#273;&#7875; l&#7897; secret trong c&#7845;u h&igrave;nh stack c&#7911;a b&#7841;n.</span></p><h1 class="c7" id="h.hsjxy5r38rc6"><span class="c19">3. Gitlab l&agrave; g&igrave; v&agrave; t&#7847;m quan tr&#7885;ng c&#7911;a Gitlab-ci</span></h1><p class="c1"><span class="c0">GitLab l&agrave; m&#7897;t n&#7873;n t&#7843;ng DevOps to&agrave;n di&#7879;n &#273;&#432;&#7907;c s&#7917; d&#7909;ng &#273;&#7875; qu&#7843;n l&yacute; m&atilde; ngu&#7891;n v&agrave; quy tr&igrave;nh ph&aacute;t tri&#7875;n ph&#7847;n m&#7873;m. N&#7873;n t&#7843;ng n&agrave;y cung c&#7845;p m&#7897;t m&ocirc;i tr&#432;&#7901;ng t&iacute;ch h&#7907;p &#273;&#7875; qu&#7843;n l&yacute; m&atilde; ngu&#7891;n, ki&#7875;m tra m&atilde;, qu&#7843;n l&yacute; v&#7845;n &#273;&#7873;, tri&#7875;n khai t&#7921; &#273;&#7897;ng v&agrave; theo d&otilde;i quy tr&igrave;nh ph&aacute;t tri&#7875;n ph&#7847;n m&#7873;m.</span></p><h3 class="c9" id="h.glgm137zdbeg"><span class="c6">C&aacute;c phi&ecirc;n b&#7843;n</span></h3><ul class="c13 lst-kix_yr6pal7mb9v1-0 start"><li class="c1 c8 li-bullet-0"><span class="c0">Gitlab Community Edition (CE): Phi&ecirc;n b&#7843;n c&#7897;ng &#273;&#7891;ng, m&atilde; ngu&#7891;n m&#7903;. &#272;&acirc;y l&agrave; b&#7843;n m&#7899;i nh&#7845;t, &#273;&#432;&#7907;c nh&agrave; ph&aacute;t tri&#7875;n release t&#7915; c&aacute;c nh&aacute;nh stable v&agrave; nh&aacute;nh master.</span></li><li class="c1 c8 li-bullet-0"><span class="c0">GitLab Enterprise Edition (EE): Phi&ecirc;n b&#7843;n s&#7917; d&#7909;ng cho c&aacute;c &#273;&#7889;i t&#432;&#7907;ng l&agrave; doanh nghi&#7879;p. C&ocirc;ng c&#7909; &#273;&#432;&#7907;c cung c&#7845;p t&#7915; kho l&#432;u tr&#7919; c&#7911;a gitlab.com. Ngay khi &#273;&#259;ng k&yacute;, b&#7841;n s&#7869; nh&#7853;n &#273;&#432;&#7907;c h&#7895; tr&#7907; c&#7911;a GitLab BV. V&#7845;n &#273;&#7873; li&ecirc;n quan &#273;&#7871;n c&agrave;i &#273;&#7863;t v&agrave; s&#7917; d&#7909;ng &#273;&#7873;u &#273;&#432;&#7907;c x&#7917; l&yacute; nhanh ch&oacute;ng.</span></li><li class="c1 c8 li-bullet-0"><span class="c0">Gitlab Continuous Integration (CI): M&#7897;t gi&#7843;i ph&aacute;p t&iacute;ch h&#7907;p, &#273;&#432;&#7907;c th&#7921;c hi&#7879;n b&#7903;i nh&oacute;m ph&aacute;t tri&#7875;n GitLab.</span></li></ul><p class="c1"><span class="c0">M&#7895;i lo&#7841;i s&#7869; &#273;em &#273;&#7871;n nh&#7919;ng h&#7895; tr&#7907; kh&aacute;c nhau cho ng&#432;&#7901;i d&ugrave;ng. Nh&#7901; c&oacute; s&#7921; n&acirc;ng c&#7845;p li&ecirc;n t&#7909;c n&ecirc;n lu&ocirc;n &#273;&#7843;m b&#7843;o tr&#7843;i nghi&#7879;m ho&agrave;n h&#7843;o nh&#7845;t.</span></p><h3 class="c9" id="h.83tb3p6fm1j4"><span class="c6">Protected Branches</span></h3><p class="c1"><span class="c0">T&iacute;nh n&#259;ng Protected Branches trong GitLab cho ph&eacute;p gi&#7899;i h&#7841;n quy&#7873;n truy c&#7853;p v&agrave;o Repository v&agrave; c&aacute;c Branches, ng&#259;n ch&#7863;n vi&#7879;c push code t&#7915; nh&#7919;ng &#273;&#7889;i t&#432;&#7907;ng kh&ocirc;ng &#273;&#432;&#7907;c c&#7845;p quy&#7873;n v&agrave; ng&#259;n ch&#7863;n h&agrave;nh &#273;&#7897;ng x&oacute;a Branch. Master Branch l&agrave; Protected Branch m&#7863;c &#273;&#7883;nh v&agrave; user c&#7847;n &#273;&#432;&#7907;c c&#7845;p &iacute;t nh&#7845;t m&#7897;t quy&#7873;n t&#7915; Master &#273;&#7875; b&#7843;o m&#7853;t nh&aacute;nh.</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 522.67px;"><img alt="" src="images/image4.png" style="width: 601.70px; height: 522.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><h3 class="c9" id="h.vhtvbwtbmlwi"><span class="c6">System Layout</span></h3><p class="c1"><span class="c0">GitLab l&agrave; m&#7897;t &#7913;ng d&#7909;ng &#273;&#432;&#7907;c vi&#7871;t b&#7857;ng Ruby on Rails. V&igrave; v&#7853;y, &#273;&#7875; hi&#7875;u r&otilde; ho&#7841;t &#273;&#7897;ng c&#7911;a n&oacute;, ta c&#7847;n hi&#7875;u ph&#432;&#417;ng th&#7913;c v&#7853;n h&agrave;nh c&#7911;a ng&ocirc;n ng&#7919; l&#7853;p tr&igrave;nh n&agrave;y. Ruby on Rails l&agrave; ng&ocirc;n ng&#7919; l&#7853;p tr&igrave;nh &#273;&#432;&#7907;c s&#7917; d&#7909;ng cho GitLab. Khi c&agrave;i &#273;&#7863;t GitLab-Shell, c&ocirc;ng c&#7909; s&#7869; &#273;&#432;&#7907;c &#273;&#7863;t trong th&#432; m&#7909;c /home/git/gitlab-shell v&agrave; ng&#432;&#7901;i d&ugrave;ng c&oacute; th&#7875; s&#7917; d&#7909;ng kho d&#7919; li&#7879;u th&ocirc;ng qua SSH.</span></p><h3 class="c9" id="h.bxcapnka1vaa"><span class="c6">T&#7847;ng v&#7853;t l&yacute;</span></h3><p class="c1"><span class="c0">T&#7847;ng v&#7853;t l&yacute; bao g&#7891;m kho l&#432;u tr&#7919;, Nginx, c&#417; s&#7903; d&#7919; li&#7879;u v&agrave; GitLab-Shell. C&aacute;c th&agrave;nh ph&#7847;n n&agrave;y ho&#7841;t &#273;&#7897;ng nh&#432; m&#7897;t c&#7895; m&aacute;y trong qu&aacute; tr&igrave;nh khai th&aacute;c.</span></p><h2 class="c17" id="h.o6cnmonxy00v"><span class="c4 c14">Gitlab-ci</span></h2><p class="c15"><span class="c0">Trong chu tr&igrave;nh c&#7911;a m&#7897;t project, ta th&#432;&#7901;ng tr&#7843;i qua nhi&#7873;u b&#432;&#7899;c kh&aacute;c nhau cho t&#7899;i khi ra &#273;&#432;&#7907;c ho&agrave;n ch&#7881;nh s&#7843;n ph&#7849;m cu&#7889;i c&ugrave;ng. Nh&#7919;ng b&#432;&#7899;c n&agrave;y th&#432;&#7901;ng l&agrave; c&aacute;c b&#432;&#7899;c &#273;&#7891;ng b&#7897; ho&#7863;c xen k&#7869;, v&agrave; ta c&oacute; kh&aacute;i ni&#7879;m &ldquo;Continuous Integration&rdquo; t&#7913;c CI &#273;&#7875; th&#7921;c hi&#7879;n c&aacute;c b&#432;&#7899;c n&agrave;y t&#7921; &#273;&#7897;ng sau khi ta x&acirc;y d&#7921;ng k&#7883;ch b&#7843;n cho n&oacute;.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 281.33px;"><img alt="GitLab CI" src="images/image13.png" style="width: 601.70px; height: 281.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">GitLab CI &#273;&#432;&#7907;c tri&#7875;n khai nh&#432; m&#7897;t t&iacute;nh n&#259;ng quan tr&#7885;ng v&agrave; mang t&#7899;i s&#7921; ti&#7879;n d&#7909;ng d&agrave;nh cho nh&#7919;ng ai &#273;ang s&#7917; d&#7909;ng GitLab. B&#7841;n kh&ocirc;ng ph&#7843;i tr&#7843; ti&#7873;n, n&oacute; c&oacute; s&#7861;n mi&#7877;n b&#7841;n l&ecirc;n k&#7883;ch b&#7843;n &#273;&uacute;ng. Trong b&agrave;i vi&#7871;t n&agrave;y, Code T&#7889;t s&#7869; &#273;&#432;a ra c&aacute;c kh&aacute;i ni&#7879;m v&agrave; c&ugrave;ng gi&#7843;i th&iacute;ch cho c&aacute;c b&#7841;n hi&#7875;u &#273;&#7875; c&oacute; ki&#7871;n th&#7913;c v&#7873; &ldquo;m&oacute;n h&agrave;ng&rdquo; th&uacute; v&#7883; n&agrave;y.</span></p><h3 class="c20" id="h.pos2xs2poosb"><span>B&#7855;t &#273;&#7847;u t&#7915; Git Flow</span></h3><p class="c2"><span class="c0">M&#7895;i khi m&#7897;t l&#7853;p tr&igrave;nh vi&ecirc;n t&#7841;o ra c&aacute;c thay &#273;&#7893;i trong code, ng&#432;&#7901;i &#273;&oacute; th&#432;&#7901;ng l&#432;u l&#7841;i n&oacute; trong m&#7897;t commit. Sau &#273;&oacute;, ng&#432;&#7901;i n&agrave;y &#273;&#7849;y code l&ecirc;n (g&#7885;i l&agrave; push) l&ecirc;n GitLab &#273;&#7875; nh&#7919;ng ng&#432;&#7901;i kh&aacute;c trong &#273;&#7897;i nh&oacute;m c&#7911;a m&igrave;nh c&oacute; th&#7875; th&#7845;y n&oacute; v&agrave; &#273;&aacute;nh gi&aacute;.</span></p><p class="c2"><span>GitLab c&#361;ng b&#7855;t &#273;&#7847;u l&agrave;m nh&#7919;ng vi&#7879;c m&agrave; n&oacute; &#273;&#432;&#7907;c giao, khi commit &#273;&oacute; l&ecirc;n, n&#7871;u m&agrave; b&#7841;n c&#7845;u h&igrave;nh GitLab CI. Nh&#7919;ng thao t&aacute;c n&oacute; l&agrave;m, ta g&#7885;i l&agrave; &ldquo;runner&rdquo;. H&atilde;y t&#432;&#7903;ng t&#432;&#7907;ng &ldquo;runner&rdquo; th&#7921;c ra l&agrave; m&#7897;t m&aacute;y ch&#7911;, t&#432;&#417;ng t&#7921; nh&#432; m&aacute;y t&iacute;nh c&#7911;a b&#7841;n, nh&#432;ng th&#7921;c thi c&aacute;c h&#432;&#7899;ng d&#7851;n c&oacute; trong file </span><span class="c18">.gitlab-ci.yml</span><span class="c0">&nbsp;n&#7857;m ngay trong project c&#7911;a b&#7841;n, v&agrave; n&oacute; s&#7869; bao g&#7891;m c&aacute;c b&aacute;o c&aacute;o g&#7917;i l&#7841;i v&agrave; &#273;&#432;&#7907;c GitLab hi&#7875;n th&#7883; trong giao di&#7879;n c&#7911;a m&igrave;nh.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 208.00px;"><img alt="Danh s&aacute;ch c&aacute;c runner &#273;ang ch&#7841;y" src="images/image5.png" style="width: 601.70px; height: 208.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">Khi l&#7853;p tr&igrave;nh vi&ecirc;n n&agrave;o &#273;&oacute; ho&agrave;n th&agrave;nh vi&#7879;c l&agrave;m m&#7897;t t&iacute;nh n&#259;ng m&#7899;i hay fix bug (nh&#7919;ng thao t&aacute;c &#273;&ograve;i h&#7887;i nhi&#7873;u commit), h&#7885; c&oacute; th&#7875; t&#7841;o y&ecirc;u c&#7847;u nh&#7853;p v&agrave;o c&acirc;y nh&aacute;nh ch&iacute;nh (Merge Request), n&#417;i m&agrave; GitLab cung c&#7845;p giao di&#7879;n tr&#7921;c quan &#273;&#7875; &#273;&aacute;nh gi&aacute; v&agrave; ti&#7871;p t&#7909;c &#273;&#432;a ra c&aacute;c c&#7843;i thi&#7879;n cho t&#7899;i khi ho&agrave;n t&#7845;t v&agrave; &#273;&#432;&#7907;c &ldquo;merged&rdquo; v&agrave;o nh&aacute;nh ch&iacute;nh.</span></p><p class="c2"><span class="c0">Nh&#432; c&aacute;c b&#7841;n th&#7845;y, ngay c&#7843; designer v&agrave; tester c&#361;ng c&oacute; th&#7875; tham gia v&agrave;o b&#432;&#7899;c n&agrave;y, &#273;&#432;a ra c&aacute;c &#273;&aacute;nh gi&aacute; v&agrave; g&#7907;i &yacute; c&#7843;i thi&#7879;n. V&agrave; th&#7853;t tuy&#7879;t r&#7857;ng n&oacute; r&#7845;t d&#7877; nh&igrave;n trong GitLab.</span></p><h3 class="c20" id="h.gyha8421hdw"><span class="c6">Pipelines l&agrave; g&igrave;?</span></h3><p class="c2"><span class="c0">Gi&#7901;, ta s&#7869; t&igrave;m hi&#7875;u m&#7897;t kh&aacute;i ni&#7879;m kh&aacute;c. &#272;&oacute; l&agrave; pipeline. H&atilde;y t&#432;&#7903;ng t&#432;&#7907;ng m&#7895;i commit &#273;&#432;&#7907;c &#273;&#432;a l&ecirc;n GitLab &#273;&#7891;ng th&#7901;i s&#7869; &#273;&#432;&#7907;c g&#7855;n m&#7897;t m&oacute;n h&agrave;ng &#273;&iacute;nh k&egrave;m. N&#7871;u nhi&#7873;u commit &#273;&#432;&#7907;c &#273;&#7849;y l&ecirc;n &#273;&#7891;ng th&#7901;i, m&oacute;n h&agrave;ng n&agrave;y s&#7869; ch&#7881; &#273;&#432;&#7907;c g&#7855;n v&agrave;o commit m&#7899;i nh&#7845;t. &#272;&#7845;y ch&iacute;nh l&agrave; pipeline, t&#7913;c m&#7897;t b&#7843;n thu th&#7853;p c&aacute;c c&ocirc;ng vi&#7879;c &#273;&#432;&#7907;c chia nh&#7887; ra &#7903; nh&#7919;ng giai &#273;o&#7841;n kh&aacute;c nhau. N&ocirc;m na, n&oacute; gi&#7889;ng nh&#432; m&#7897;t mi&#7871;ng tem d&aacute;n v&agrave;o commit g&#7847;n nh&#7845;t c&#7911;a m&#7895;i l&#7847;n b&#7841;n &#273;&#7849;y code l&ecirc;n GitLab.</span></p><p class="c2"><span class="c0">R&uacute;t g&#7885;n l&#7841;i:</span></p><ul class="c13 lst-kix_53qy4ivdc6mi-0 start"><li class="c2 c8 li-bullet-0"><span class="c0">Job: l&agrave; c&aacute;c c&ocirc;ng vi&#7879;c &#273;&#432;&#7907;c giao th&#7921;c th&#7883;</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Pipeline: ch&igrave;a kho&aacute; &#273;&#7875; ki&#7875;m tra (trong m&#7897;t l&#432;&#7907;t commit)</span></li><li class="c2 c8 li-bullet-0"><span class="c12"><a class="c21" href="https://www.google.com/url?q=https://docs.gitlab.com/ee/ci/yaml/%23stages&amp;sa=D&amp;source=editors&amp;ust=1732217324640895&amp;usg=AOvVaw1KZxLL_l4VbAEfMOXc9_-h">Stages</a></span><span class="c0">: c&aacute;c l&#432;&#7907;t th&#7921;c hi&#7879;n.</span></li></ul><p class="c2"><span class="c0">Pipeline c&oacute; m&#7897;t s&#7889; nguy&ecirc;n t&#7855;c b&#7841;n n&ecirc;n bi&#7871;t:</span></p><ul class="c13 lst-kix_3l4lgcv3szh-0 start"><li class="c2 c8 li-bullet-0"><span class="c0">T&#7845;t c&#7843; c&aacute;c c&ocirc;ng vi&#7879;c (job) trong c&ugrave;ng m&#7897;t l&#432;&#7907;t s&#7869; ch&#7841;y &#273;&#7891;ng th&#7901;i (n&#7871;u c&oacute; &#273;&#7911; s&#7889; runner cho ph&eacute;p), v&agrave; l&#432;&#7907;t ti&#7871;p theo s&#7869; ch&#7881; &#273;&#432;&#7907;c b&#7855;t &#273;&#7847;u n&#7871;u l&#432;&#7907;t tr&#432;&#7899;c n&oacute; k&#7871;t th&uacute;c v&agrave; th&agrave;nh c&ocirc;ng.</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Khi m&#7897;t c&ocirc;ng vi&#7879;c n&agrave;o &#273;&oacute; b&#7883; fail, l&#7853;p t&#7913;c pipeline c&#7911;a n&oacute; s&#7869; d&#7915;ng l&#7841;i (Ta s&#7869; l&#7845;y v&iacute; d&#7909; &#7903; sau &#273;&acirc;y). C&oacute; m&#7897;t ngo&#7841;i l&#7879;, &#273;&oacute; l&agrave; n&#7871;u m&#7897;t c&ocirc;ng vi&#7879;c &#273;&#432;&#7907;c &#273;&aacute;nh d&#7845;u l&agrave;m th&#7911; c&ocirc;ng, th&igrave; k&#7875; c&#7843; khi n&oacute; b&#7883; fail th&igrave; pipeline v&#7851;n ti&#7871;p t&#7909;c.</span></li><li class="c2 c8 li-bullet-0"><span>R&otilde; r&agrave;ng, n&#7871;u b&#7841;n c&oacute; c&aacute;c l&#432;&#7907;t kh&aacute;c nhau, ch&#7859;ng h&#7841;n nh&#432; &ldquo;</span><span class="c4">build</span><span>&rdquo; v&agrave; &ldquo;</span><span class="c4">deploy</span><span>&ldquo;, th&igrave; vi&#7879;c tu&#7847;n t&#7921; th&#7921;c hi&#7879;n n&oacute; s&#7869; ph&ugrave; h&#7907;p h&#417;n thay v&igrave; ch&#7841;y song song. </span><span class="c4">build</span><span>&nbsp;&#273;&atilde; </span><span class="c4">fail</span><span>&nbsp;th&igrave; kh&ocirc;ng th&#7875; v&agrave; kh&ocirc;ng c&oacute; l&yacute; do g&igrave; &#273;&#7875; </span><span class="c4">deploy</span><span class="c0">, &#273;&uacute;ng kh&ocirc;ng?</span></li><li class="c2 c8 li-bullet-0"><span class="c0">M&#7895;i c&ocirc;ng vi&#7879;c s&#7869; ch&#7881; l&agrave;m vi&#7879;c c&#7911;a n&oacute; v&agrave; kh&ocirc;ng b&#7883; ph&#7909; thu&#7897;c v&agrave;o b&#7845;t k&#7923; l&#432;&#7907;t n&agrave;o kh&aacute;c ngo&agrave;i ch&iacute;nh n&oacute;.</span></li></ul><p class="c2"><span class="c0">Gi&#7901;, ta s&#7869; c&ugrave;ng quan s&aacute;t c&aacute;ch th&#7913;c GitLab CI trong giao di&#7879;n &#7913;ng d&#7909;ng ho&#7841;t &#273;&#7897;ng nh&#432; th&#7871; n&agrave;o nh&eacute;?</span></p><p class="c2"><span class="c0">H&igrave;nh &#7843;nh v&#7873; c&aacute;ch th&#7913;c Pipeline th&#7921;c thi:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 400.00px; height: 200.00px;"><img alt="M&ocirc; h&igrave;nh Pipeline" src="images/image2.png" style="width: 400.00px; height: 200.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c0">H&igrave;nh &#7843;nh v&#7873; th&#7921;c hi&#7879;n deploy nhi&#7873;u b&#432;&#7899;c:</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 98.67px;"><img alt="M&ocirc; ph&#7887;ng nhi&#7873;u b&#432;&#7899;c th&#7921;c hi&#7879;n c&#7911;a Auto deploy GitLab CI" src="images/image7.png" style="width: 601.70px; height: 98.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span>T&#7845;t c&#7843; c&#7845;u h&igrave;nh v&#7873; ci &#273;&#7873;u &#273;&#432;&#7907;c c&#7845;u h&igrave;nh trong </span><span class="c18">.gitlab-ci.yml</span><span class="c0">&nbsp;cho c&aacute;c b&#432;&#7899;c tu&#7847;n t&#7921; th&#7921;c hi&#7879;n.</span></p><h1 class="c7" id="h.v0zsmzqvs51t"><span class="c19">4. Gi&aacute;m s&aacute;t h&#7879; th&#7889;ng b&#7857;ng Prometheus v&agrave; Grafana.</span></h1><h3 class="c20" id="h.f377yldcl0e"><span class="c6">Prometheus&#8203;</span></h3><p class="c2"><span class="c4">Prometheus</span><span>&nbsp;&#273;&#432;&#7907;c d&ugrave;ng &#273;&#7875; gi&aacute;m s&aacute;t h&#7879; th&#7889;ng th&ocirc;ng qua c&aacute;c daemon c&agrave;i s&#7861;n tr&ecirc;n c&aacute;c node, qua &#273;&oacute; thu th&#7853;p c&aacute;c th&ocirc;ng tin c&#7847;n thi&#7871;t.</span><span><a class="c21" href="https://www.google.com/url?q=https://prometheus.io/&amp;sa=D&amp;source=editors&amp;ust=1732217324642246&amp;usg=AOvVaw1EGl92TU_PDlBioAu64136">&nbsp;</a></span><span class="c4">Prometheus</span><span>&nbsp;giao ti&#7871;p v&#7899;i node qua giao th&#7913;c </span><span class="c4">http/https</span><span>&nbsp;v&agrave; l&#432;u tr&#7919; data theo d&#7841;ng </span><span class="c4">time-series database</span><span class="c0">&nbsp;(TSDB).</span></p><p class="c2 c24"><span class="c3">Time series database (TSDB) l&agrave; nh&#7919;ng database &#273;&#432;&#7907;c l&#432;u tr&#7919; theo c&aacute;c m&#7889;c th&#7901;i gian. Ngh&#297;a l&agrave; m&#7895;i d&#7919; li&#7879;u lu&ocirc;n &#273;&#432;&#7907;c g&#7855;n v&#7899;i m&#7897;t m&#7889;c th&#7901;i gian nh&#7845;t &#273;&#7883;nh t&#7915; &#273;&oacute; t&#7841;o th&agrave;nh chu&#7895;i d&#7919; li&#7879;u theo th&#7901;i gian t&#7915; &#273;&oacute; gi&uacute;p ch&uacute;ng ta c&oacute; th&#7875; xem l&#7841;i d&#7919; li&#7879;u cho m&#7897;t kho&#7843;ng th&#7901;i gian 1 gi&#7901; hay 1 ti&#7871;ng.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 269.33px;"><img alt="" src="images/image12.png" style="width: 601.70px; height: 269.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c16"><span class="c4 c23">Ho&#7841;t &#273;&#7897;ng c&#7911;a Prometheus</span></p><ul class="c13 lst-kix_ud09ycvdlv8b-0 start"><li class="c2 c8 li-bullet-0"><span class="c4">Prometheus</span><span class="c0">&nbsp;s&#7869; th&#7921;c hi&#7879;n qu&aacute; tr&igrave;nh k&eacute;o (pull) c&aacute;c th&ocirc;ng s&#7889;/s&#7889; li&#7879;u (metric) t&#7915; c&aacute;c job (exporter).</span></li><li class="c2 c8 li-bullet-0"><span class="c4">Prometheus</span><span class="c0">&nbsp;s&#7869; l&#432;u tr&#7919; c&aacute;c d&#7919; li&#7879;u thu th&#7853;p &#273;&#432;&#7907;c &#7903; local m&aacute;y ch&#7911;.</span></li><li class="c2 c8 li-bullet-0"><span class="c4">Prometheus</span><span class="c0">&nbsp;s&#7869; ch&#7841;y c&aacute;c rule &#273;&#7875; x&#7917; l&yacute; c&aacute;c d&#7919; li&#7879;u theo nhu c&#7847;u c&#361;ng nh&#432; ki&#7875;m tra th&#7921;c hi&#7879;n c&aacute;c c&#7843;nh b&aacute;o m&agrave; b&#7841;n mong mu&#7889;n.</span></li></ul><h3 class="c20" id="h.8ipzqbbd5ant"><span class="c6">Grafana</span></h3><p class="c1"><span class="c4">Grafana</span><span>&nbsp;l&agrave; m&#7897;t vizualizer hi&#7875;n th&#7883; c&aacute;c metric d&#432;&#7899;i d&#7841;ng c&aacute;c bi&#7875;u &#273;&#7891; (chart) ho&#7863;c &#273;&#7891; th&#7883; (graph), &#273;&#432;&#7907;c t&#7853;p h&#7907;p l&#7841;i th&agrave;nh dashboard c&oacute; t&iacute;nh t&ugrave;y bi&#7871;n cao, gi&uacute;p d&#7877; d&agrave;ng theo d&otilde;i t&igrave;nh tr&#7841;ng c&#7911;a node. &#272;&#417;n gi&#7843;n cho c&aacute;c b&#7841;n d&#7877; hi&#7875;u l&agrave; sau khi l&#7845;y &#273;&#432;&#7907;c </span><span class="c4">metric</span><span>&nbsp;t&#7915; c&aacute;c thi&#7871;t b&#7883;, </span><span class="c4">grafana</span><span>&nbsp;s&#7869; s&#7917; d&#7909;ng metric &#273;&oacute; &#273;&#7875; ph&acirc;n t&iacute;ch v&agrave; t&#7841;o ra dashboard m&ocirc; t&#7843; tr&#7921;c quan c&aacute;c metric c&#7847;n thi&#7871;t cho vi&#7879;c monitoring nh&#432; </span><span class="c4">CPU</span><span>, </span><span class="c4">RAM</span><span>, </span><span class="c4">disks</span><span>, </span><span class="c4">IO</span><span class="c0">&nbsp;operations...</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 353.33px;"><img alt="" src="images/image8.png" style="width: 601.70px; height: 353.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c16"><span class="c3">Grafana dashboard</span></p><p class="c1 c11"><span class="c0"></span></p><h1 class="c7" id="h.s4z6lveqdgno"><span class="c19">5. Terraform.</span></h1><p class="c15"><span class="c4">Terraform</span><span>&nbsp;l&agrave; m&#7897;t c&ocirc;ng c&#7909; m&atilde; ngu&#7891;n m&#7903; cho ph&eacute;p b&#7841;n &#273;&#7883;nh ngh&#297;a </span><span class="c4">Infrastructure as Code &ndash; IaC</span><span>&nbsp;v&#7899;i &#273;a d&#7841;ng cloud provider nh&#432; </span><span class="c4">Alibaba Cloud, AWS, Azure</span><span class="c0">&hellip; Terraform gi&uacute;p b&#7841;n qu&#7843;n l&yacute; h&#7879; th&#7889;ng b&#7857;ng code v&agrave; t&#7921; &#273;&#7897;ng h&oacute;a vi&#7879;c tri&#7875;n khai h&#7841; t&#7847;ng c&#7911;a b&#7841;n.</span></p><p class="c2"><span class="c0">B&#7841;n c&oacute; th&#7875; s&#7917; d&#7909;ng Terraform &#273;&#7875; qu&#7843;n l&yacute; c&aacute;c t&agrave;i nguy&ecirc;n nh&#432; m&aacute;y ch&#7911;, m&#7841;ng, c&#417; s&#7903; d&#7919; li&#7879;u v&agrave; c&aacute;c t&agrave;i nguy&ecirc;n kh&aacute;c c&#7911;a c&aacute;c nh&agrave; cung c&#7845;p &#273;&aacute;m m&acirc;y kh&aacute;c nhau.</span></p><ul class="c13 lst-kix_1l5tserq8k9-0 start"><li class="c2 c8 li-bullet-0"><span class="c0">Qu&#7843;n l&yacute; t&agrave;i nguy&ecirc;n &#273;&aacute;m m&acirc;y &#273;a n&#7873;n t&#7843;ng.</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Qu&#7843;n l&yacute; c&aacute;c phi&ecirc;n b&#7843;n kh&aacute;c nhau c&#7911;a c&#417; s&#7903; h&#7841; t&#7847;ng.</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Qu&#7843;n l&yacute; c&aacute;c ph&#7909; thu&#7897;c gi&#7919;a c&aacute;c t&agrave;i nguy&ecirc;n.</span></li><li class="c2 c8 li-bullet-0"><span class="c0">T&#7921; &#273;&#7897;ng h&oacute;a vi&#7879;c tri&#7875;n khai v&agrave; c&#7853;p nh&#7853;t c&#417; s&#7903; h&#7841; t&#7847;ng.</span></li></ul><p class="c2"><span class="c4">Terraform</span><span>&nbsp;s&#7917; d&#7909;ng ng&ocirc;n ng&#7919; </span><span class="c4">HCL</span><span class="c0">&nbsp;(HashiCorp Configuration Language) &#273;&#7875; &#273;&#7883;nh ngh&#297;a c&#7845;u tr&uacute;c h&#7841; t&#7847;ng c&#7911;a b&#7841;n v&agrave; c&oacute; th&#7875; &#273;&#432;&#7907;c s&#7917; d&#7909;ng &#273;&#7875; qu&#7843;n l&yacute; h&#7841; t&#7847;ng tr&ecirc;n nhi&#7873;u nh&agrave; cung c&#7845;p &#273;&aacute;m m&acirc;y kh&aacute;c nhau.</span></p><p class="c5"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 217.33px;"><img alt="Terraform" src="images/image3.png" style="width: 601.70px; height: 217.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span>M&#7897;t s&#7889; c&ocirc;ng c&#7909; t&#432;&#417;ng &#273;&#432;&#417;ng v&#7899;i </span><span class="c4">Terraform</span><span class="c0">&nbsp;m&agrave; b&#7841;n c&oacute; th&#7875; tham kh&#7843;o bao g&#7891;m:</span></p><ul class="c13 lst-kix_7n1eq4yiu2f8-0 start"><li class="c2 c8 li-bullet-0"><span class="c0">Chef Infra</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Ansible</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Puppet</span></li><li class="c2 c8 li-bullet-0"><span class="c0">SaltStack</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Pulumi</span></li><li class="c2 c8 li-bullet-0"><span class="c0">CloudFormation c&#7911;a AWS</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Azure Resource Manager</span></li><li class="c2 c8 li-bullet-0"><span class="c0">Google Cloud Deployment Manager</span></li></ul><p class="c2"><span class="c4">Terraform</span><span class="c0">&nbsp;&#273;&#432;&#7907;c ch&#7885;n v&igrave; n&oacute; c&oacute; th&#7875; gi&uacute;p qu&#7843;n l&yacute; c&#417; s&#7903; h&#7841; t&#7847;ng &#273;&aacute;m m&acirc;y d&#7877; d&agrave;ng v&agrave; hi&#7879;u qu&#7843; h&#417;n b&#7857;ng c&aacute;ch vi&#7871;t m&atilde; &#273;&#7875; t&#7921; &#273;&#7897;ng h&oacute;a c&aacute;c quy tr&igrave;nh tri&#7875;n khai v&agrave; c&#7853;p nh&#7853;t.</span></p><p class="c2"><span>Terraform c&#361;ng h&#7895; tr&#7907; cho </span><span class="c4">Alibaba Cloud</span><span>&nbsp;th&ocirc;ng qua provider c&#7911;a Alibaba Cloud. B&#7841;n c&oacute; th&#7875; s&#7917; d&#7909;ng Terraform &#273;&#7875; qu&#7843;n l&yacute; c&aacute;c t&agrave;i nguy&ecirc;n tr&ecirc;n </span><span class="c4">Alibaba Cloud nh&#432; ECS instances, VPCs, ApsaraDB for RDS instances</span><span class="c0">&nbsp;v&agrave; nhi&#7873;u h&#417;n n&#7919;a.</span></p><h1 class="c7" id="h.mc31v16z8lv0"><span class="c19">6. K&#7871;t h&#7907;p nh&#7919;ng th&#7913; tr&ecirc;n v&agrave;o tri&#7875;n khai d&#7921; &aacute;n ho&agrave;n ch&#7881;nh</span></h1><h3 class="c9" id="h.1da7g0c38vs8"><span class="c6">6.1 X&aacute;c &#273;&#7883;nh c&aacute;c t&agrave;i nguy&ecirc;n c&#7847;n s&#7917; d&#7909;ng</span></h3><p class="c1"><span class="c0">V&#7899;i m&#7909;c &#273;&iacute;ch h&#7885;c h&#7887;i v&agrave; th&#7917; nghi&#7879;m, n&ecirc;n ch&uacute;ng ta c&#7913; x&acirc;y d&#7921;ng d&#432; d&#7843; t&agrave;i nguy&ecirc;n m&#7897;t x&iacute;u.</span></p><p class="c1"><span class="c0">Y&ecirc;u c&#7847;u: c&#7847;n c&oacute; 3 node tri&#7875;n khai &#273;&#7875; c&oacute; th&#7875; d&#7877; d&agrave;ng scaling khi c&aacute;c th&agrave;nh ph&#7847;n trong kubernetes c&oacute; nhu c&#7847;u cao.</span></p><p class="c1"><span class="c0">Ch&uacute;ng ta s&#7869; c&#7847;n s&#7917; d&#7909;ng Terraform &#273;&#7875; c&oacute; th&#7875; tri&#7875;n khai hi&#7879;u qu&#7843; v&agrave; c&oacute; th&#7875; qu&#7843;n l&yacute; d&#7877; d&agrave;ng h&#417;n.</span></p><p class="c1"><span class="c0">Thanh kh&#7843;o qua &#273;o&#7841;n code trong main.tf</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 568.00px; height: 433.00px;"><img alt="" src="images/image6.png" style="width: 568.00px; height: 433.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c11"><span class="c0"></span></p><p class="c1"><span>Ch&#7881; c&#7847;n c&#7845;u h&igrave;nh &#273;&#417;n gi&#7843;n nh&#432; h&igrave;nh l&agrave; &#273;&atilde; c&oacute; th&#7875; t&#7841;o 3 vm instance tr&ecirc;n gcloud, n&#7871;u mu&#7889;n tri&#7875;n khai sau h&#417;n nh&#432; IP, VPC, ho&#7863;c c&aacute;c th&agrave;nh ph&#7847;n trong kubernetes architecture, th&igrave; c&aacute;c b&#7841;n c&oacute; th&#7875; tham kh&#7843;o: </span><span class="c12"><a class="c21" href="https://www.google.com/url?q=https://registry.terraform.io/providers/hashicorp/google/latest/docs&amp;sa=D&amp;source=editors&amp;ust=1732217324645128&amp;usg=AOvVaw2O2CT4hZXsVOkiCxcgGst8">Terraform for Gcloud</a></span><span class="c0">.</span></p><p class="c1"><span class="c4">L&#432;u &yacute;:</span><span class="c0">&nbsp;c&#7847;n xem x&eacute;t k&#7929; khi tri&#7875;n khai c&aacute;c th&agrave;nh ph&#7847;n c&#7911;a Kubernetes b&#7857;ng terraform ho&#7863;c Kubernetes YAML, v&igrave; &#273;&#7889;i v&#7899;i terraform c&oacute; th&#7875; ph&uacute;c t&#7841;p h&#417;n v&agrave; d&#7877; d&#7851;n &#273;&#7871;n l&#7895;i n&#7871;u nh&#432; c&#7845;u h&igrave;nh sai. &#272;&#7889;i v&#7899;i Kubernetes YAML d&#7877; h&#417;n nh&#432;ng kh&ocirc;ng can thi&#7879;p s&acirc;u do n&#7871;u tri&#7875;n khai b&#7857;ng Kubernetes YAML, c&aacute;c th&agrave;nh ph&#7847;n thu&#7897;c Control Plane s&#7869; &#273;&#432;&#7907;c Gcloud qu&#7843;n l&yacute;.</span></p><p class="c1"><span class="c0">V&#7899;i Credentials, ph&#7909; thu&#7897;c v&agrave;o b&#7841;n deploy b&#7857;ng local ho&#7863;c t&#7915; cicd, trong tr&#432;&#7901;ng h&#7907;p n&agrave;y t&ocirc;i s&#7917; d&#7909;ng cicd &#273;&#7875; tri&#7875;n khai n&ecirc;n s&#7917; d&#7909;ng key. B&#7841;n c&oacute; th&#7875; t&igrave;m hi&#7875;u b&#7857;ng c&aacute;ch t&#7841;o key cho project.</span></p><h3 class="c9" id="h.c3ob7x893ec1"><span class="c6">6.2 X&acirc;y d&#7921;ng Kubernetes YAML</span></h3><p class="c1"><span class="c0">Xem t&#7841;i newk8s.yml</span></p><p class="c1"><span class="c0">Ch&uacute;ng ta s&#7869; d&#7921;a v&agrave; m&ocirc; hinh sau &#273;&#7875; tri&#7875;n khai:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 349.33px;"><img alt="" src="images/image9.png" style="width: 601.70px; height: 349.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0">Gi&#7843;i th&iacute;ch qua th&igrave; khai n&atilde;y s&#7869; tri&#7875;n khai c&aacute;c th&agrave;nh ph&#7847;n trong kubernetes nh&#432; c&aacute;c deployment, s&#7889; l&#432;&#7907;ng pod, c&aacute;c service,...</span></p><p class="c1"><span class="c0">V&#7899;i m&ocirc; h&igrave;nh n&agrave;y, l&#432;u l&#432;&#7907;ng &#273;i t&#7915; Internet s&#7869; &#273;i qua load balance, cho ph&eacute;p c&acirc;n b&#7857;ng t&#7843;i, v&agrave; &#273;i v&agrave;o apache &#273;&#7875; x&#7917; l&yacute; l&#432;u l&#432;&#7907;ng, n&#7871;u c&#7847;n, apache s&#7869; g&#7917;i l&#432;u l&#432;&#7907;ng cho php &#273;&#7875; php x&#7917; l&yacute;, v&agrave; php s&#7869; truy v&#7845;n mysql n&#7871;u c&#7847;n thi&#7871;t. V&agrave; t&#7845;t c&#7843; c&aacute;c th&agrave;nh ph&#7847;n n&agrave;y s&#7869; giao ti&#7871;p n&#7897;i b&#7897; qua Cluster IP.</span></p><p class="c1"><span class="c0">khi n&agrave;y s&#7869; c&#7847;n c&aacute;c Volume &#273;&#7875; ch&#7913;a source code v&agrave; database, ch&uacute;ng ta s&#7869; c&#7847;n tri&#7875;n khai 2 volume, 1 volume d&ugrave;ng &#273;&#7875; chia s&#7867; code gi&#7919;a php v&agrave; apache, 1 volume d&agrave;nh ri&ecirc;ng &#273;&#7875; ch&#7913;a database c&#7911;a mysql.</span></p><p class="c1"><span class="c0">K&#7871;t qu&#7843; sau khi tri&#7875;n khai xong:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 324.00px;"><img alt="" src="images/image1.png" style="width: 601.70px; height: 324.00px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1 c11"><span class="c0"></span></p><h3 class="c9" id="h.u8ijd5y1fodj"><span class="c6">6.3 Tri&#7875;n khai Gitlab-ci.</span></h3><p class="c1"><span class="c0">Ch&uacute;ng ta s&#7869; x&acirc;y d&#7921;ng 1 cicd &#273;&#417;n gi&#7843;n.</span></p><p class="c1"><span class="c0">Y&ecirc;u c&#7847;u: m&#7895;i khi dev push code l&ecirc;n, code s&#7869; &#273;&#432;&#7907;c t&#7921; &#273;&#7897;ng test tr&ecirc;n ch&iacute;nh image, n&#7871;u code kh&ocirc;ng x&#7843;y ra l&#7895;i s&#7869; &#273;&#432;&#7907;c deploy th&#7859;ng v&agrave;o project nh&#432;ng kh&ocirc;ng l&agrave;m &#7843;nh h&#432;&#7903;ng &#273;&#7871;n database.</span></p><p class="c1 c11"><span class="c0"></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 382.67px;"><img alt="" src="images/image11.png" style="width: 601.70px; height: 382.67px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span class="c0">Gi&#7843;i th&iacute;ch:</span></p><ul class="c13 lst-kix_mua2099p0o9h-0 start"><li class="c1 c8 li-bullet-0"><span class="c0">Stage test: m&#7895;i khi code php m&#7899;i &#273;&#432;&#7907;c push n&ecirc;n branch dev, th&igrave; gitlab s&#7869; pull image php:-cli &#273;&#7875; thao t&aacute;c b&#7857;ng c&aacute;ch t&igrave;m t&#7845;t c&#7843; file php v&agrave; ch&#7841;y th&#7917;, n&#7871;u kh&ocirc;ng c&oacute; v&#7845;n &#273;&#7873; g&igrave; th&igrave; s&#7869; l&#432;u code &#273;&oacute; l&#7841;i v&agrave; chuy&#7875;n xu&#7889;ng cho stage deploy s&#7917; d&#7909;ng.</span></li><li class="c1 c8 li-bullet-0"><span class="c0">Stage deploy: sau khi code &#273;&#432;&#7907;c test xong, gitlab s&#7869; pull image c&#7911;a bitnami(image &#273;&atilde; &#273;&atilde; &#273;&#432;&#7907;c c&agrave;i s&#7861;n kubectl, ch&#7881; c&#7847;n &#273;&#432;&#7907;c c&#7845;u h&igrave;nh context l&agrave; xong), sau &#273;&oacute; s&#7869; &aacute;p d&#7909;ng c&aacute;c thay &#273;&#7893;i c&#7911;a Kubernetes YAML, v&agrave; copy source v&agrave;o volume l&agrave; xong.</span></li></ul><h3 class="c9" id="h.uy05gegkv145"><span class="c6">6.4 Tri&#7875;n khai Prometheus v&agrave; Grafana &#273;&#7875; gi&aacute;m s&aacute;t</span></h3><p class="c1"><span class="c0">Vi&#7879;c gi&aacute;m s&aacute;t h&#7841; t&#7847;ng v&agrave; t&igrave;nh tr&#7841;ng s&#7913;c kh&#7887;e c&#7911;a c&aacute;c th&agrave;nh ph&#7847;n trong kubernetes r&#7845;t quan trong, ch&uacute;ng ta s&#7869; ti&#7871;p t&#7909;c c&agrave;i &#273;&#7863;t Prometheus v&agrave; Grafana. C&oacute; 3 c&aacute;ch th&#432;&#7901;ng &#273;&#432;&#7907;c s&#7917; d&#7909;ng:</span></p><ol class="c13 lst-kix_ld1nlwjaezlj-0 start" start="1"><li class="c1 c8 li-bullet-0"><span class="c0">S&#7917; d&#7909;ng b&#7897; application(&#273;&#7889;i v&#7899;i gcloud) ho&#7863;c b&#7897; qu&#7843;n l&yacute; Helm.</span></li><li class="c1 c8 li-bullet-0"><span class="c0">S&#7917; d&#7909;ng 1 b&#7897; &#273;&#432;&#7907;c c&#7845;u h&igrave;nh s&#7861;n.(Ng&#432;&#7901;i m&#7899;i n&ecirc;n s&#7917; d&#7909;ng c&aacute;i n&agrave;y).</span></li><li class="c1 c8 li-bullet-0"><span class="c0">S&#7917; d&#7909;ng b&#7897; Prometheus v&agrave; Grafana t&#7921; build b&#7857;ng image ri&ecirc;ng .</span></li></ol><p class="c1"><span class="c0">v&igrave; &#273;&#417;n gi&#7843;n h&oacute;a n&ecirc;n ch&uacute;ng ta s&#7869; d&ugrave;ng c&aacute;ch 2.</span></p><p class="c1"><span class="c10">git clone https://github.com/prometheus-operator/kube-prometheus.git</span></p><p class="c1"><span class="c0">sau khi clone v&#7873; s&#7869; c&oacute; th&#7875; ch&#7841;y project</span></p><p class="c1"><span class="c10">cd kube-prometheus</span></p><p class="c1"><span class="c10">kubectl create -f manifests/setup</span></p><p class="c1"><span>sau khi ch&#7841;y xong ch&uacute;ng ta &#273;&atilde; c&oacute; th&#7875; gi&aacute;m s&aacute;t, nh&#432;ng c&#7847;n public prometheus v&agrave; grafana ra ngo&agrave;i b&#7857;ng NodePort ho&#7863;c LoadBalance &#273;&#7875; c&oacute; th&#7875; truy c&#7853;p t&#7915; b&ecirc;n ngo&agrave;i b&#7857;ng c&aacute;ch thay &#273;&#7893;i 2 service n&agrave;y: &nbsp;</span><span class="c10">stable-kube-prometheus-sta-prometheus, stable-grafana</span></p><p class="c1"><span class="c0">, sau &#273;&oacute; thay Type c&#7911;a Service n&agrave;y l&agrave; LoadBalancer ho&#7863;c NodePort.</span></p><p class="c1"><span class="c0">k&#7871;t qu&#7843;:</span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 325.33px;"><img alt="" src="images/image10.png" style="width: 601.70px; height: 325.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c1"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 601.70px; height: 325.33px;"><img alt="" src="images/image14.png" style="width: 601.70px; height: 325.33px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p></body></html>